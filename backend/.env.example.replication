# ============================================
# DATABASE REPLICATION CONFIGURATION
# ============================================
# This file shows the required environment variables
# for cloud-to-local database replication

# --------------------------------------------
# CLOUD DATABASE (Supabase) - Source
# --------------------------------------------
CLOUD_DB_HOST=aws-1-ap-southeast-1.pooler.supabase.com
CLOUD_DB_PORT=5432
CLOUD_DB_DATABASE=postgres
CLOUD_DB_USERNAME=postgres.psblyvwfbgmwyrtzoyhz
CLOUD_DB_PASSWORD=your_supabase_password_here
CLOUD_DB_SSLMODE=require

# --------------------------------------------
# LOCAL DATABASE (Backup) - Destination
# --------------------------------------------
LOCAL_DB_HOST=127.0.0.1
LOCAL_DB_PORT=5432
LOCAL_DB_DATABASE=db_kalinga_local
LOCAL_DB_USERNAME=postgres
LOCAL_DB_PASSWORD=your_local_postgres_password

# --------------------------------------------
# USAGE INSTRUCTIONS
# --------------------------------------------
# 1. Copy these variables to your .env file
# 2. Update the passwords with your actual credentials
# 3. Create local database: createdb db_kalinga_local
# 4. Run migrations on local: php artisan migrate --database=pgsql_local
# 5. Sync data: php artisan db:sync-cloud-to-local
# 6. Schedule automatic sync (optional): see documentation below

# --------------------------------------------
# AUTOMATIC SYNC SCHEDULING (Optional)
# --------------------------------------------
# To enable automatic syncing, add this to app/Console/Kernel.php:
#
# protected function schedule(Schedule $schedule)
# {
#     // Sync every hour
#     $schedule->command('db:sync-cloud-to-local --skip-confirm')
#              ->hourly()
#              ->withoutOverlapping();
# }
#
# Then run: php artisan schedule:work (for development)
# Or setup cron job for production
